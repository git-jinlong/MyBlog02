<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xiao.blog.mapper.ArticleMapper" >
  <resultMap id="BaseResultMap" type="com.xiao.blog.model.Article" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="article_abstract" property="articleAbstract" jdbcType="VARCHAR" />
    <result column="article_author" property="articleAuthor" jdbcType="VARCHAR" />
    <result column="article_title" property="articleTitle" jdbcType="VARCHAR" />
    <result column="create_date" property="createDate" jdbcType="VARCHAR" />
    <result column="likes" property="likes" jdbcType="INTEGER" />
    <result column="read_count" property="readCount" jdbcType="INTEGER" />
    <result column="update_date" property="updateDate" jdbcType="VARCHAR" />
    <result column="last_article_id" property="lastArticleId" jdbcType="INTEGER" />
    <result column="next_article_id" property="nextArticleId" jdbcType="INTEGER" />
    <result column="comment_count" property="commentCount" jdbcType="INTEGER" />
    <result column="istop" property="istop" jdbcType="INTEGER" />
    <result column="editor_type" property="editorType" jdbcType="INTEGER" />
    <result column="isdraft" property="isdraft" jdbcType="INTEGER" />
    <result column="isprivacy" property="isprivacy" jdbcType="INTEGER" />
    <result column="article_content" property="articleContent" jdbcType="LONGVARCHAR" />
    <result column="article_html_content" property="articleHtmlContent" jdbcType="LONGVARCHAR" />
  </resultMap>


  <insert id="insert" parameterType="com.xiao.blog.model.Article" >

    insert into blog_article (id, article_abstract, article_author,
      article_title, create_date, likes,
      read_count, update_date, last_article_id,
      next_article_id, comment_count, istop,
      editor_type, isdraft, isprivacy,
      article_content, article_html_content
      )
    values (#{id,jdbcType=INTEGER}, #{articleAbstract,jdbcType=VARCHAR}, #{articleAuthor,jdbcType=VARCHAR},
      #{articleTitle,jdbcType=VARCHAR}, #{createDate,jdbcType=VARCHAR}, #{likes,jdbcType=INTEGER},
      #{readCount,jdbcType=INTEGER}, #{updateDate,jdbcType=VARCHAR}, #{lastArticleId,jdbcType=INTEGER},
      #{nextArticleId,jdbcType=INTEGER}, #{commentCount,jdbcType=INTEGER}, #{istop,jdbcType=INTEGER},
      #{editorType,jdbcType=INTEGER}, #{isdraft,jdbcType=INTEGER}, #{isprivacy,jdbcType=INTEGER},
      #{articleContent,jdbcType=LONGVARCHAR}, #{articleHtmlContent,jdbcType=LONGVARCHAR}
      )
  </insert>



  <insert id="insertArticleLabelRelation"  >

    insert into blog_article_label (article_id, label_id)
    values
    <foreach collection="list" item="item" index="index" separator=",">
      ( #{item.articleId,jdbcType=INTEGER}, #{item.labelId,jdbcType=INTEGER} )
    </foreach>
  </insert>

  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from blog_article where id = #{id,jdbcType=INTEGER}
  </delete>

  <update id="updateByPrimaryKey" parameterType="com.xiao.blog.model.Article" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update blog_article
    set article_abstract = #{articleAbstract,jdbcType=VARCHAR},
      article_author = #{articleAuthor,jdbcType=VARCHAR},
      article_title = #{articleTitle,jdbcType=VARCHAR},
      create_date = #{createDate,jdbcType=VARCHAR},
      likes = #{likes,jdbcType=INTEGER},
      read_count = #{readCount,jdbcType=INTEGER},
      update_date = #{updateDate,jdbcType=VARCHAR},
      last_article_id = #{lastArticleId,jdbcType=INTEGER},
      next_article_id = #{nextArticleId,jdbcType=INTEGER},
      comment_count = #{commentCount,jdbcType=INTEGER},
      istop = #{istop,jdbcType=INTEGER},
      editor_type = #{editorType,jdbcType=INTEGER},
      isdraft = #{isdraft,jdbcType=INTEGER},
      isprivacy = #{isprivacy,jdbcType=INTEGER},
      article_content = #{articleContent,jdbcType=LONGVARCHAR},
      article_html_content = #{articleHtmlContent,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, article_abstract, article_author, article_title, create_date, likes, read_count, 
    update_date, last_article_id, next_article_id, comment_count, istop, editor_type, 
    isdraft, isprivacy, article_content, article_html_content
    from blog_article
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, article_abstract, article_author, article_title, create_date, likes, read_count, 
    update_date, last_article_id, next_article_id, comment_count, istop, editor_type, 
    isdraft, isprivacy, article_content, article_html_content
    from blog_article
  </select>
</mapper>